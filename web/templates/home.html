{# web/templates/home.html #}
{% extends "base.html" %}
{% block title %}Trang chủ • VN News{% endblock %}

{% block content %}
  <div class="grid cards">
    {% for a in page_obj %}
      {% include "partials/_article_card.html" with a=a %}
    {% empty %}
      <div class="card" style="padding:16px">Chưa có bài viết.</div>
    {% endfor %}
  </div>

  {% if page_obj.paginator.num_pages > 1 %}
    <div style="display:flex;gap:10px;justify-content:center;margin-top:16px">
      {% if page_obj.has_previous %}
        <a class="btn" href="?page={{ page_obj.previous_page_number }}{% if request.GET.q %}&q={{ request.GET.q }}{% endif %}{% if request.GET.origin %}&origin={{ request.GET.origin }}{% endif %}{% if request.GET.sort %}&sort={{ request.GET.sort }}{% endif %}">← Trước</a>
      {% endif %}
      <span class="muted" style="align-self:center">
        Trang {{ page_obj.number }}/{{ page_obj.paginator.num_pages }}
      </span>
      {% if page_obj.has_next %}
        <a class="btn" href="?page={{ page_obj.next_page_number }}{% if request.GET.q %}&q={{ request.GET.q }}{% endif %}{% if request.GET.origin %}&origin={{ request.GET.origin }}{% endif %}{% if request.GET.sort %}&sort={{ request.GET.sort }}{% endif %}">Sau →</a>
      {% endif %}
    </div>
  {% endif %}
{% endblock %}
